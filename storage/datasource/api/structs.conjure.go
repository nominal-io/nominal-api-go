// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	"github.com/nominal-io/nominal-api/api/rids"
	"github.com/nominal-io/nominal-api/io/nominal/api"
	"github.com/palantir/pkg/datetime"
	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safeyaml"
)

type CreateNominalDataSourceRequest struct {
	// A human readable identifier. Must be unique within an organization.
	Id          NominalDataSourceId `conjure-docs:"A human readable identifier. Must be unique within an organization." json:"id"`
	Description *string             `json:"description,omitempty"`
	/*
	   Specifies the timestamp granularity of the datasource (i.e., picosecond or nanosecond scale).
	   Defaults to nanosecond granularity.
	*/
	Granularity              *api.Granularity `conjure-docs:"Specifies the timestamp granularity of the datasource (i.e., picosecond or nanosecond scale).\nDefaults to nanosecond granularity." json:"granularity,omitempty"`
	InMemoryStreamingEnabled *bool            `json:"inMemoryStreamingEnabled,omitempty"`
	/*
	   The workspace in which to create the datasource. If not provided, the datasource will be created in the default workspace for
	   the user's organization, if the default workspace for the organization is configured.
	*/
	Workspace *rids.WorkspaceRid `conjure-docs:"The workspace in which to create the datasource. If not provided, the datasource will be created in the default workspace for\nthe user's organization, if the default workspace for the organization is configured." json:"workspace,omitempty"`
}

func (o CreateNominalDataSourceRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CreateNominalDataSourceRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

// A logical grouping of series.
type NominalDataSource struct {
	Rid         rids.NominalDataSourceRid `json:"rid"`
	Id          NominalDataSourceId       `json:"id"`
	Description *string                   `json:"description,omitempty"`
	/*
	   Returns the approximate timestamp at which data was written to the data source.
	   Will be accurate to within 1 minute.
	*/
	DataLastWrittenAt        *datetime.DateTime `conjure-docs:"Returns the approximate timestamp at which data was written to the data source.\nWill be accurate to within 1 minute." json:"dataLastWrittenAt,omitempty"`
	Granularity              api.Granularity    `json:"granularity"`
	InMemoryStreamingEnabled *bool              `json:"inMemoryStreamingEnabled,omitempty"`
}

func (o NominalDataSource) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *NominalDataSource) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type UpdateNominalDataSourceRequest struct {
	InMemoryStreamingEnabled bool `json:"inMemoryStreamingEnabled"`
}

func (o UpdateNominalDataSourceRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *UpdateNominalDataSourceRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	"context"
	"fmt"

	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safeyaml"
)

type ChartThemeContent struct {
	typ string
	v1  *ChartThemeContentV1
}

type chartThemeContentDeserializer struct {
	Type string               `json:"type"`
	V1   *ChartThemeContentV1 `json:"v1"`
}

func (u *chartThemeContentDeserializer) toStruct() ChartThemeContent {
	return ChartThemeContent{typ: u.Type, v1: u.V1}
}

func (u *ChartThemeContent) toSerializer() (interface{}, error) {
	switch u.typ {
	default:
		return nil, fmt.Errorf("unknown type %q", u.typ)
	case "v1":
		if u.v1 == nil {
			return nil, fmt.Errorf("field \"v1\" is required")
		}
		return struct {
			Type string              `json:"type"`
			V1   ChartThemeContentV1 `json:"v1"`
		}{Type: "v1", V1: *u.v1}, nil
	}
}

func (u ChartThemeContent) MarshalJSON() ([]byte, error) {
	ser, err := u.toSerializer()
	if err != nil {
		return nil, err
	}
	return safejson.Marshal(ser)
}

func (u *ChartThemeContent) UnmarshalJSON(data []byte) error {
	var deser chartThemeContentDeserializer
	if err := safejson.Unmarshal(data, &deser); err != nil {
		return err
	}
	*u = deser.toStruct()
	switch u.typ {
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
	}
	return nil
}

func (u ChartThemeContent) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(u)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (u *ChartThemeContent) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&u)
}

func (u *ChartThemeContent) AcceptFuncs(v1Func func(ChartThemeContentV1) error, unknownFunc func(string) error) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return unknownFunc(u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v1Func(*u.v1)
	}
}

func (u *ChartThemeContent) V1NoopSuccess(ChartThemeContentV1) error {
	return nil
}

func (u *ChartThemeContent) ErrorOnUnknown(typeName string) error {
	return fmt.Errorf("invalid value in union type. Type name: %s", typeName)
}

func (u *ChartThemeContent) Accept(v ChartThemeContentVisitor) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknown(u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v.VisitV1(*u.v1)
	}
}

type ChartThemeContentVisitor interface {
	VisitV1(v ChartThemeContentV1) error
	VisitUnknown(typeName string) error
}

func (u *ChartThemeContent) AcceptWithContext(ctx context.Context, v ChartThemeContentVisitorWithContext) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknownWithContext(ctx, u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v.VisitV1WithContext(ctx, *u.v1)
	}
}

type ChartThemeContentVisitorWithContext interface {
	VisitV1WithContext(ctx context.Context, v ChartThemeContentV1) error
	VisitUnknownWithContext(ctx context.Context, typeName string) error
}

func NewChartThemeContentFromV1(v ChartThemeContentV1) ChartThemeContent {
	return ChartThemeContent{typ: "v1", v1: &v}
}

type TimeSeriesChartTheme struct {
	typ string
	v1  *TimeSeriesChartThemeV1
}

type timeSeriesChartThemeDeserializer struct {
	Type string                  `json:"type"`
	V1   *TimeSeriesChartThemeV1 `json:"v1"`
}

func (u *timeSeriesChartThemeDeserializer) toStruct() TimeSeriesChartTheme {
	return TimeSeriesChartTheme{typ: u.Type, v1: u.V1}
}

func (u *TimeSeriesChartTheme) toSerializer() (interface{}, error) {
	switch u.typ {
	default:
		return nil, fmt.Errorf("unknown type %q", u.typ)
	case "v1":
		if u.v1 == nil {
			return nil, fmt.Errorf("field \"v1\" is required")
		}
		return struct {
			Type string                 `json:"type"`
			V1   TimeSeriesChartThemeV1 `json:"v1"`
		}{Type: "v1", V1: *u.v1}, nil
	}
}

func (u TimeSeriesChartTheme) MarshalJSON() ([]byte, error) {
	ser, err := u.toSerializer()
	if err != nil {
		return nil, err
	}
	return safejson.Marshal(ser)
}

func (u *TimeSeriesChartTheme) UnmarshalJSON(data []byte) error {
	var deser timeSeriesChartThemeDeserializer
	if err := safejson.Unmarshal(data, &deser); err != nil {
		return err
	}
	*u = deser.toStruct()
	switch u.typ {
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
	}
	return nil
}

func (u TimeSeriesChartTheme) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(u)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (u *TimeSeriesChartTheme) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&u)
}

func (u *TimeSeriesChartTheme) AcceptFuncs(v1Func func(TimeSeriesChartThemeV1) error, unknownFunc func(string) error) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return unknownFunc(u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v1Func(*u.v1)
	}
}

func (u *TimeSeriesChartTheme) V1NoopSuccess(TimeSeriesChartThemeV1) error {
	return nil
}

func (u *TimeSeriesChartTheme) ErrorOnUnknown(typeName string) error {
	return fmt.Errorf("invalid value in union type. Type name: %s", typeName)
}

func (u *TimeSeriesChartTheme) Accept(v TimeSeriesChartThemeVisitor) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknown(u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v.VisitV1(*u.v1)
	}
}

type TimeSeriesChartThemeVisitor interface {
	VisitV1(v TimeSeriesChartThemeV1) error
	VisitUnknown(typeName string) error
}

func (u *TimeSeriesChartTheme) AcceptWithContext(ctx context.Context, v TimeSeriesChartThemeVisitorWithContext) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknownWithContext(ctx, u.typ)
	case "v1":
		if u.v1 == nil {
			return fmt.Errorf("field \"v1\" is required")
		}
		return v.VisitV1WithContext(ctx, *u.v1)
	}
}

type TimeSeriesChartThemeVisitorWithContext interface {
	VisitV1WithContext(ctx context.Context, v TimeSeriesChartThemeV1) error
	VisitUnknownWithContext(ctx context.Context, typeName string) error
}

func NewTimeSeriesChartThemeFromV1(v TimeSeriesChartThemeV1) TimeSeriesChartTheme {
	return TimeSeriesChartTheme{typ: "v1", v1: &v}
}

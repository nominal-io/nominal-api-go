// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	"context"
	"fmt"
	"net/url"

	"github.com/nominal-io/nominal-api-go/internal/conjureerrors"
	"github.com/palantir/conjure-go-runtime/v2/conjure-go-client/httpclient"
	"github.com/palantir/pkg/bearertoken"
	werror "github.com/palantir/witchcraft-go-error"
)

/*
This service provides operations for managing user and org profiles/settings.
Its name is a bit of a misnomer.
*/
type AuthenticationServiceV2Client interface {
	// Gets the profile of the authenticated user.
	GetMyProfile(ctx context.Context, authHeader bearertoken.Token) (UserV2, error)
	// Updates the profile of the authenticated user.
	UpdateMyProfile(ctx context.Context, authHeader bearertoken.Token, updateMyProfileRequestArg UpdateMyProfileRequest) (UserV2, error)
	// Gets the settings of the authenticated user.
	GetMySettings(ctx context.Context, authHeader bearertoken.Token) (UserSettings, error)
	// Updates the settings of the authenticated user.
	UpdateMySettings(ctx context.Context, authHeader bearertoken.Token, userSettingsArg UserSettings) (UserSettings, error)
	// Gets the settings of the org of the authenticated user.
	GetMyOrgSettings(ctx context.Context, authHeader bearertoken.Token) (OrgSettings, error)
	// Updates the settings of the org of the authenticated user.
	UpdateMyOrgSettings(ctx context.Context, authHeader bearertoken.Token, orgSettingsArg OrgSettings) (OrgSettings, error)
	// Searches for users by email and displayName.
	SearchUsersV2(ctx context.Context, authHeader bearertoken.Token, requestArg SearchUsersRequest) (SearchUsersResponseV2, error)
	// Get users by RID.
	GetUsers(ctx context.Context, authHeader bearertoken.Token, userRidsArg []UserRid) ([]UserV2, error)
	// Gets a user by RID.
	GetUser(ctx context.Context, authHeader bearertoken.Token, userRidArg UserRid) (UserV2, error)
	/*
	   Returns JWKS (JSON Web Key Set) for MediaMTX JWT verification.
	   Only available if MediaMTX integration is enabled.
	*/
	GetJwks(ctx context.Context) (Jwks, error)
	/*
	   Generates a JWT token for MediaMTX authentication with a 2-hour expiration.
	   The token is signed with the MediaMTX private key and contains the specified permissions.
	   Requires authentication with Nominal. This endpoint is intended for internal use only.
	*/
	GenerateMediaMtxToken(ctx context.Context, authHeader bearertoken.Token, requestArg GenerateMediaMtxTokenRequest) (GenerateMediaMtxTokenResponse, error)
	/*
	   Gets coachmark dismissals for the authenticated user.
	   Optionally filter by specific coachmark IDs.
	*/
	GetMyCoachmarkDismissals(ctx context.Context, authHeader bearertoken.Token, requestArg GetCoachmarkDismissalsRequest) (GetCoachmarkDismissalsResponse, error)
	/*
	   Dismisses a coachmark for the authenticated user.
	   Records the dismissal timestamp and app version.
	*/
	DismissMyCoachmark(ctx context.Context, authHeader bearertoken.Token, requestArg DismissCoachmarkRequest) (CoachmarkDismissal, error)
	// Checks if a specific coachmark has been dismissed by the authenticated user.
	IsMyCoachmarkDismissed(ctx context.Context, authHeader bearertoken.Token, coachmarkIdArg string) (bool, error)
	/*
	   Resets a coachmark dismissal for the authenticated user.
	   This allows the coachmark to be shown again.
	   Primarily intended for testing and debugging.
	*/
	ResetMyCoachmarkDismissal(ctx context.Context, authHeader bearertoken.Token, coachmarkIdArg string) error
}

type authenticationServiceV2Client struct {
	client httpclient.Client
}

func NewAuthenticationServiceV2Client(client httpclient.Client) AuthenticationServiceV2Client {
	return &authenticationServiceV2Client{client: client}
}

func (c *authenticationServiceV2Client) GetMyProfile(ctx context.Context, authHeader bearertoken.Token) (UserV2, error) {
	var defaultReturnVal UserV2
	var returnVal *UserV2
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetMyProfile"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/profile"))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getMyProfile failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getMyProfile response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) UpdateMyProfile(ctx context.Context, authHeader bearertoken.Token, updateMyProfileRequestArg UpdateMyProfileRequest) (UserV2, error) {
	var defaultReturnVal UserV2
	var returnVal *UserV2
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("UpdateMyProfile"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("PUT"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/profile"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(updateMyProfileRequestArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "updateMyProfile failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "updateMyProfile response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GetMySettings(ctx context.Context, authHeader bearertoken.Token) (UserSettings, error) {
	var defaultReturnVal UserSettings
	var returnVal *UserSettings
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetMySettings"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/settings"))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getMySettings failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getMySettings response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) UpdateMySettings(ctx context.Context, authHeader bearertoken.Token, userSettingsArg UserSettings) (UserSettings, error) {
	var defaultReturnVal UserSettings
	var returnVal *UserSettings
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("UpdateMySettings"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("PUT"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/settings"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(userSettingsArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "updateMySettings failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "updateMySettings response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GetMyOrgSettings(ctx context.Context, authHeader bearertoken.Token) (OrgSettings, error) {
	var defaultReturnVal OrgSettings
	var returnVal *OrgSettings
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetMyOrgSettings"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/org/settings"))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getMyOrgSettings failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getMyOrgSettings response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) UpdateMyOrgSettings(ctx context.Context, authHeader bearertoken.Token, orgSettingsArg OrgSettings) (OrgSettings, error) {
	var defaultReturnVal OrgSettings
	var returnVal *OrgSettings
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("UpdateMyOrgSettings"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("PUT"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/org/settings"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(orgSettingsArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "updateMyOrgSettings failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "updateMyOrgSettings response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) SearchUsersV2(ctx context.Context, authHeader bearertoken.Token, requestArg SearchUsersRequest) (SearchUsersResponseV2, error) {
	var defaultReturnVal SearchUsersResponseV2
	var returnVal *SearchUsersResponseV2
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("SearchUsersV2"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("POST"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/users"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(requestArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "searchUsersV2 failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "searchUsersV2 response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GetUsers(ctx context.Context, authHeader bearertoken.Token, userRidsArg []UserRid) ([]UserV2, error) {
	var returnVal []UserV2
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetUsers"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("POST"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/users/batch"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(userRidsArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return nil, werror.WrapWithContextParams(ctx, err, "getUsers failed")
	}
	if returnVal == nil {
		return nil, werror.ErrorWithContextParams(ctx, "getUsers response cannot be nil")
	}
	return returnVal, nil
}

func (c *authenticationServiceV2Client) GetUser(ctx context.Context, authHeader bearertoken.Token, userRidArg UserRid) (UserV2, error) {
	var defaultReturnVal UserV2
	var returnVal *UserV2
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetUser"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/users/%s", url.PathEscape(fmt.Sprint(userRidArg))))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getUser failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getUser response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GetJwks(ctx context.Context) (Jwks, error) {
	var defaultReturnVal Jwks
	var returnVal *Jwks
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetJwks"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/jwks"))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getJwks failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getJwks response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GenerateMediaMtxToken(ctx context.Context, authHeader bearertoken.Token, requestArg GenerateMediaMtxTokenRequest) (GenerateMediaMtxTokenResponse, error) {
	var defaultReturnVal GenerateMediaMtxTokenResponse
	var returnVal *GenerateMediaMtxTokenResponse
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GenerateMediaMtxToken"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("POST"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/mediamtx/token"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(requestArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "generateMediaMtxToken failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "generateMediaMtxToken response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) GetMyCoachmarkDismissals(ctx context.Context, authHeader bearertoken.Token, requestArg GetCoachmarkDismissalsRequest) (GetCoachmarkDismissalsResponse, error) {
	var defaultReturnVal GetCoachmarkDismissalsResponse
	var returnVal *GetCoachmarkDismissalsResponse
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("GetMyCoachmarkDismissals"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("POST"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/coachmarks/dismissals"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(requestArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "getMyCoachmarkDismissals failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "getMyCoachmarkDismissals response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) DismissMyCoachmark(ctx context.Context, authHeader bearertoken.Token, requestArg DismissCoachmarkRequest) (CoachmarkDismissal, error) {
	var defaultReturnVal CoachmarkDismissal
	var returnVal *CoachmarkDismissal
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("DismissMyCoachmark"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("POST"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/coachmarks/dismiss"))
	requestParams = append(requestParams, httpclient.WithJSONRequest(requestArg))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "dismissMyCoachmark failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "dismissMyCoachmark response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) IsMyCoachmarkDismissed(ctx context.Context, authHeader bearertoken.Token, coachmarkIdArg string) (bool, error) {
	var defaultReturnVal bool
	var returnVal *bool
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("IsMyCoachmarkDismissed"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("GET"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/coachmarks/dismissed/%s", url.PathEscape(fmt.Sprint(coachmarkIdArg))))
	requestParams = append(requestParams, httpclient.WithJSONResponse(&returnVal))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return defaultReturnVal, werror.WrapWithContextParams(ctx, err, "isMyCoachmarkDismissed failed")
	}
	if returnVal == nil {
		return defaultReturnVal, werror.ErrorWithContextParams(ctx, "isMyCoachmarkDismissed response cannot be nil")
	}
	return *returnVal, nil
}

func (c *authenticationServiceV2Client) ResetMyCoachmarkDismissal(ctx context.Context, authHeader bearertoken.Token, coachmarkIdArg string) error {
	var requestParams []httpclient.RequestParam
	requestParams = append(requestParams, httpclient.WithRPCMethodName("ResetMyCoachmarkDismissal"))
	requestParams = append(requestParams, httpclient.WithRequestMethod("DELETE"))
	requestParams = append(requestParams, httpclient.WithHeader("Authorization", fmt.Sprint("Bearer ", authHeader)))
	requestParams = append(requestParams, httpclient.WithPathf("/authentication/v2/my/coachmarks/dismissals/%s", url.PathEscape(fmt.Sprint(coachmarkIdArg))))
	requestParams = append(requestParams, httpclient.WithRequestConjureErrorDecoder(conjureerrors.Decoder()))
	if _, err := c.client.Do(ctx, requestParams...); err != nil {
		return werror.WrapWithContextParams(ctx, err, "resetMyCoachmarkDismissal failed")
	}
	return nil
}

/*
This service provides operations for managing user and org profiles/settings.
Its name is a bit of a misnomer.
*/
type AuthenticationServiceV2ClientWithAuth interface {
	// Gets the profile of the authenticated user.
	GetMyProfile(ctx context.Context) (UserV2, error)
	// Updates the profile of the authenticated user.
	UpdateMyProfile(ctx context.Context, updateMyProfileRequestArg UpdateMyProfileRequest) (UserV2, error)
	// Gets the settings of the authenticated user.
	GetMySettings(ctx context.Context) (UserSettings, error)
	// Updates the settings of the authenticated user.
	UpdateMySettings(ctx context.Context, userSettingsArg UserSettings) (UserSettings, error)
	// Gets the settings of the org of the authenticated user.
	GetMyOrgSettings(ctx context.Context) (OrgSettings, error)
	// Updates the settings of the org of the authenticated user.
	UpdateMyOrgSettings(ctx context.Context, orgSettingsArg OrgSettings) (OrgSettings, error)
	// Searches for users by email and displayName.
	SearchUsersV2(ctx context.Context, requestArg SearchUsersRequest) (SearchUsersResponseV2, error)
	// Get users by RID.
	GetUsers(ctx context.Context, userRidsArg []UserRid) ([]UserV2, error)
	// Gets a user by RID.
	GetUser(ctx context.Context, userRidArg UserRid) (UserV2, error)
	/*
	   Returns JWKS (JSON Web Key Set) for MediaMTX JWT verification.
	   Only available if MediaMTX integration is enabled.
	*/
	GetJwks(ctx context.Context) (Jwks, error)
	/*
	   Generates a JWT token for MediaMTX authentication with a 2-hour expiration.
	   The token is signed with the MediaMTX private key and contains the specified permissions.
	   Requires authentication with Nominal. This endpoint is intended for internal use only.
	*/
	GenerateMediaMtxToken(ctx context.Context, requestArg GenerateMediaMtxTokenRequest) (GenerateMediaMtxTokenResponse, error)
	/*
	   Gets coachmark dismissals for the authenticated user.
	   Optionally filter by specific coachmark IDs.
	*/
	GetMyCoachmarkDismissals(ctx context.Context, requestArg GetCoachmarkDismissalsRequest) (GetCoachmarkDismissalsResponse, error)
	/*
	   Dismisses a coachmark for the authenticated user.
	   Records the dismissal timestamp and app version.
	*/
	DismissMyCoachmark(ctx context.Context, requestArg DismissCoachmarkRequest) (CoachmarkDismissal, error)
	// Checks if a specific coachmark has been dismissed by the authenticated user.
	IsMyCoachmarkDismissed(ctx context.Context, coachmarkIdArg string) (bool, error)
	/*
	   Resets a coachmark dismissal for the authenticated user.
	   This allows the coachmark to be shown again.
	   Primarily intended for testing and debugging.
	*/
	ResetMyCoachmarkDismissal(ctx context.Context, coachmarkIdArg string) error
}

func NewAuthenticationServiceV2ClientWithAuth(client AuthenticationServiceV2Client, authHeader bearertoken.Token) AuthenticationServiceV2ClientWithAuth {
	return &authenticationServiceV2ClientWithAuth{client: client, authHeader: authHeader}
}

type authenticationServiceV2ClientWithAuth struct {
	client     AuthenticationServiceV2Client
	authHeader bearertoken.Token
}

func (c *authenticationServiceV2ClientWithAuth) GetMyProfile(ctx context.Context) (UserV2, error) {
	return c.client.GetMyProfile(ctx, c.authHeader)
}

func (c *authenticationServiceV2ClientWithAuth) UpdateMyProfile(ctx context.Context, updateMyProfileRequestArg UpdateMyProfileRequest) (UserV2, error) {
	return c.client.UpdateMyProfile(ctx, c.authHeader, updateMyProfileRequestArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetMySettings(ctx context.Context) (UserSettings, error) {
	return c.client.GetMySettings(ctx, c.authHeader)
}

func (c *authenticationServiceV2ClientWithAuth) UpdateMySettings(ctx context.Context, userSettingsArg UserSettings) (UserSettings, error) {
	return c.client.UpdateMySettings(ctx, c.authHeader, userSettingsArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetMyOrgSettings(ctx context.Context) (OrgSettings, error) {
	return c.client.GetMyOrgSettings(ctx, c.authHeader)
}

func (c *authenticationServiceV2ClientWithAuth) UpdateMyOrgSettings(ctx context.Context, orgSettingsArg OrgSettings) (OrgSettings, error) {
	return c.client.UpdateMyOrgSettings(ctx, c.authHeader, orgSettingsArg)
}

func (c *authenticationServiceV2ClientWithAuth) SearchUsersV2(ctx context.Context, requestArg SearchUsersRequest) (SearchUsersResponseV2, error) {
	return c.client.SearchUsersV2(ctx, c.authHeader, requestArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetUsers(ctx context.Context, userRidsArg []UserRid) ([]UserV2, error) {
	return c.client.GetUsers(ctx, c.authHeader, userRidsArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetUser(ctx context.Context, userRidArg UserRid) (UserV2, error) {
	return c.client.GetUser(ctx, c.authHeader, userRidArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetJwks(ctx context.Context) (Jwks, error) {
	return c.client.GetJwks(ctx)
}

func (c *authenticationServiceV2ClientWithAuth) GenerateMediaMtxToken(ctx context.Context, requestArg GenerateMediaMtxTokenRequest) (GenerateMediaMtxTokenResponse, error) {
	return c.client.GenerateMediaMtxToken(ctx, c.authHeader, requestArg)
}

func (c *authenticationServiceV2ClientWithAuth) GetMyCoachmarkDismissals(ctx context.Context, requestArg GetCoachmarkDismissalsRequest) (GetCoachmarkDismissalsResponse, error) {
	return c.client.GetMyCoachmarkDismissals(ctx, c.authHeader, requestArg)
}

func (c *authenticationServiceV2ClientWithAuth) DismissMyCoachmark(ctx context.Context, requestArg DismissCoachmarkRequest) (CoachmarkDismissal, error) {
	return c.client.DismissMyCoachmark(ctx, c.authHeader, requestArg)
}

func (c *authenticationServiceV2ClientWithAuth) IsMyCoachmarkDismissed(ctx context.Context, coachmarkIdArg string) (bool, error) {
	return c.client.IsMyCoachmarkDismissed(ctx, c.authHeader, coachmarkIdArg)
}

func (c *authenticationServiceV2ClientWithAuth) ResetMyCoachmarkDismissal(ctx context.Context, coachmarkIdArg string) error {
	return c.client.ResetMyCoachmarkDismissal(ctx, c.authHeader, coachmarkIdArg)
}

func NewAuthenticationServiceV2ClientWithTokenProvider(client AuthenticationServiceV2Client, tokenProvider httpclient.TokenProvider) AuthenticationServiceV2ClientWithAuth {
	return &authenticationServiceV2ClientWithTokenProvider{client: client, tokenProvider: tokenProvider}
}

type authenticationServiceV2ClientWithTokenProvider struct {
	client        AuthenticationServiceV2Client
	tokenProvider httpclient.TokenProvider
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetMyProfile(ctx context.Context) (UserV2, error) {
	var defaultReturnVal UserV2
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetMyProfile(ctx, bearertoken.Token(token))
}

func (c *authenticationServiceV2ClientWithTokenProvider) UpdateMyProfile(ctx context.Context, updateMyProfileRequestArg UpdateMyProfileRequest) (UserV2, error) {
	var defaultReturnVal UserV2
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.UpdateMyProfile(ctx, bearertoken.Token(token), updateMyProfileRequestArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetMySettings(ctx context.Context) (UserSettings, error) {
	var defaultReturnVal UserSettings
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetMySettings(ctx, bearertoken.Token(token))
}

func (c *authenticationServiceV2ClientWithTokenProvider) UpdateMySettings(ctx context.Context, userSettingsArg UserSettings) (UserSettings, error) {
	var defaultReturnVal UserSettings
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.UpdateMySettings(ctx, bearertoken.Token(token), userSettingsArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetMyOrgSettings(ctx context.Context) (OrgSettings, error) {
	var defaultReturnVal OrgSettings
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetMyOrgSettings(ctx, bearertoken.Token(token))
}

func (c *authenticationServiceV2ClientWithTokenProvider) UpdateMyOrgSettings(ctx context.Context, orgSettingsArg OrgSettings) (OrgSettings, error) {
	var defaultReturnVal OrgSettings
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.UpdateMyOrgSettings(ctx, bearertoken.Token(token), orgSettingsArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) SearchUsersV2(ctx context.Context, requestArg SearchUsersRequest) (SearchUsersResponseV2, error) {
	var defaultReturnVal SearchUsersResponseV2
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.SearchUsersV2(ctx, bearertoken.Token(token), requestArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetUsers(ctx context.Context, userRidsArg []UserRid) ([]UserV2, error) {
	var defaultReturnVal []UserV2
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetUsers(ctx, bearertoken.Token(token), userRidsArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetUser(ctx context.Context, userRidArg UserRid) (UserV2, error) {
	var defaultReturnVal UserV2
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetUser(ctx, bearertoken.Token(token), userRidArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetJwks(ctx context.Context) (Jwks, error) {
	return c.client.GetJwks(ctx)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GenerateMediaMtxToken(ctx context.Context, requestArg GenerateMediaMtxTokenRequest) (GenerateMediaMtxTokenResponse, error) {
	var defaultReturnVal GenerateMediaMtxTokenResponse
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GenerateMediaMtxToken(ctx, bearertoken.Token(token), requestArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) GetMyCoachmarkDismissals(ctx context.Context, requestArg GetCoachmarkDismissalsRequest) (GetCoachmarkDismissalsResponse, error) {
	var defaultReturnVal GetCoachmarkDismissalsResponse
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.GetMyCoachmarkDismissals(ctx, bearertoken.Token(token), requestArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) DismissMyCoachmark(ctx context.Context, requestArg DismissCoachmarkRequest) (CoachmarkDismissal, error) {
	var defaultReturnVal CoachmarkDismissal
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.DismissMyCoachmark(ctx, bearertoken.Token(token), requestArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) IsMyCoachmarkDismissed(ctx context.Context, coachmarkIdArg string) (bool, error) {
	var defaultReturnVal bool
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return defaultReturnVal, err
	}
	return c.client.IsMyCoachmarkDismissed(ctx, bearertoken.Token(token), coachmarkIdArg)
}

func (c *authenticationServiceV2ClientWithTokenProvider) ResetMyCoachmarkDismissal(ctx context.Context, coachmarkIdArg string) error {
	token, err := c.tokenProvider(ctx)
	if err != nil {
		return err
	}
	return c.client.ResetMyCoachmarkDismissal(ctx, bearertoken.Token(token), coachmarkIdArg)
}

// Code generated by conjure-go. DO NOT EDIT.

package conjureerrors

import (
	"reflect"

	"github.com/palantir/conjure-go-runtime/v2/conjure-go-contract/errors"
)

// Decoder returns the error type registry used by the conjure-generated
// clients in this package to convert JSON errors to their go types.
// Errors are registered by their error name. Only one type can be
// registered per name. If an error name is not recognized, a genericError
// is returned with all params marked unsafe.
func Decoder() errors.ConjureErrorDecoder {
	return globalRegistry
}

var globalRegistry = errors.NewReflectTypeConjureErrorDecoder()

// RegisterErrorType registers an error name and its go type in a global registry.
// The type should be a struct type whose pointer implements Error.
// Panics if name is already registered or *type does not implement Error.
func RegisterErrorType(name string, typ reflect.Type) {
	if err := globalRegistry.RegisterErrorType(name, typ); err != nil {
		panic(err.Error())
	}
}

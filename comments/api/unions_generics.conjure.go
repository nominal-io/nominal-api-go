// Code generated by conjure-go. DO NOT EDIT.

//go:build go1.18

package api

import (
	"context"
	"fmt"
)

type CommentParentWithT[T any] CommentParent

func (u *CommentParentWithT[T]) Accept(ctx context.Context, v CommentParentVisitorWithT[T]) (T, error) {
	var result T
	switch u.typ {
	default:
		if u.typ == "" {
			return result, fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknown(ctx, u.typ)
	case "resource":
		if u.resource == nil {
			return result, fmt.Errorf("field \"resource\" is required")
		}
		return v.VisitResource(ctx, *u.resource)
	case "comment":
		if u.comment == nil {
			return result, fmt.Errorf("field \"comment\" is required")
		}
		return v.VisitComment(ctx, *u.comment)
	}
}

func (u *CommentParentWithT[T]) AcceptFuncs(resourceFunc func(CommentParentResource) (T, error), commentFunc func(CommentParentComment) (T, error), unknownFunc func(string) (T, error)) (T, error) {
	var result T
	switch u.typ {
	default:
		if u.typ == "" {
			return result, fmt.Errorf("invalid value in union type")
		}
		return unknownFunc(u.typ)
	case "resource":
		if u.resource == nil {
			return result, fmt.Errorf("field \"resource\" is required")
		}
		return resourceFunc(*u.resource)
	case "comment":
		if u.comment == nil {
			return result, fmt.Errorf("field \"comment\" is required")
		}
		return commentFunc(*u.comment)
	}
}

func (u *CommentParentWithT[T]) ResourceNoopSuccess(CommentParentResource) (T, error) {
	var result T
	return result, nil
}

func (u *CommentParentWithT[T]) CommentNoopSuccess(CommentParentComment) (T, error) {
	var result T
	return result, nil
}

func (u *CommentParentWithT[T]) ErrorOnUnknown(typeName string) (T, error) {
	var result T
	return result, fmt.Errorf("invalid value in union type. Type name: %s", typeName)
}

type CommentParentVisitorWithT[T any] interface {
	VisitResource(ctx context.Context, v CommentParentResource) (T, error)
	VisitComment(ctx context.Context, v CommentParentComment) (T, error)
	VisitUnknown(ctx context.Context, typ string) (T, error)
}

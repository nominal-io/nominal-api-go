// Code generated by conjure-go. DO NOT EDIT.

package api1

import (
	"github.com/nominal-io/nominal-api/api/rids"
	api4 "github.com/nominal-io/nominal-api/io/nominal/api"
	"github.com/nominal-io/nominal-api/scout/api"
	api1 "github.com/nominal-io/nominal-api/scout/asset/api"
	api3 "github.com/nominal-io/nominal-api/scout/rids/api"
	api2 "github.com/nominal-io/nominal-api/scout/run/api"
	"github.com/palantir/pkg/datetime"
	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safelong"
	"github.com/palantir/pkg/safeyaml"
	"github.com/palantir/pkg/uuid"
)

type DataScopes struct {
	DataScopes map[api.DataSourceRefName]api1.DataScope `json:"dataScopes"`
}

func (o DataScopes) MarshalJSON() ([]byte, error) {
	if o.DataScopes == nil {
		o.DataScopes = make(map[api.DataSourceRefName]api1.DataScope, 0)
	}
	type _tmpDataScopes DataScopes
	return safejson.Marshal(_tmpDataScopes(o))
}

func (o *DataScopes) UnmarshalJSON(data []byte) error {
	type _tmpDataScopes DataScopes
	var rawDataScopes _tmpDataScopes
	if err := safejson.Unmarshal(data, &rawDataScopes); err != nil {
		return err
	}
	if rawDataScopes.DataScopes == nil {
		rawDataScopes.DataScopes = make(map[api.DataSourceRefName]api1.DataScope, 0)
	}
	*o = DataScopes(rawDataScopes)
	return nil
}

func (o DataScopes) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *DataScopes) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type GetRunsByAssetResponse struct {
	Results       []Run      `json:"results"`
	NextPageToken *uuid.UUID `json:"nextPageToken,omitempty"`
}

func (o GetRunsByAssetResponse) MarshalJSON() ([]byte, error) {
	if o.Results == nil {
		o.Results = make([]Run, 0)
	}
	type _tmpGetRunsByAssetResponse GetRunsByAssetResponse
	return safejson.Marshal(_tmpGetRunsByAssetResponse(o))
}

func (o *GetRunsByAssetResponse) UnmarshalJSON(data []byte) error {
	type _tmpGetRunsByAssetResponse GetRunsByAssetResponse
	var rawGetRunsByAssetResponse _tmpGetRunsByAssetResponse
	if err := safejson.Unmarshal(data, &rawGetRunsByAssetResponse); err != nil {
		return err
	}
	if rawGetRunsByAssetResponse.Results == nil {
		rawGetRunsByAssetResponse.Results = make([]Run, 0)
	}
	*o = GetRunsByAssetResponse(rawGetRunsByAssetResponse)
	return nil
}

func (o GetRunsByAssetResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *GetRunsByAssetResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type Run struct {
	Rid         api2.RunRid                              `json:"rid"`
	RunNumber   safelong.SafeLong                        `json:"runNumber"`
	RunPrefix   *string                                  `json:"runPrefix,omitempty"`
	Title       string                                   `json:"title"`
	Description string                                   `json:"description"`
	AuthorRid   *api3.UserRid                            `json:"authorRid,omitempty"`
	StartTime   api2.UtcTimestamp                        `json:"startTime"`
	EndTime     *api2.UtcTimestamp                       `json:"endTime,omitempty"`
	Properties  map[api4.PropertyName]api4.PropertyValue `json:"properties"`
	Labels      []api4.Label                             `json:"labels"`
	Links       []api2.Link                              `json:"links"`
	CreatedAt   datetime.DateTime                        `json:"createdAt"`
	UpdatedAt   datetime.DateTime                        `json:"updatedAt"`
	// Map from asset RIDs to their data scopes
	AssetDataScopesMap map[api3.AssetRid]DataScopes `conjure-docs:"Map from asset RIDs to their data scopes" json:"assetDataScopesMap"`
	// Deprecated: Use assetDataScopesMap instead. Will be empty for multi-asset runs.
	AssetDataScopes []api1.DataScope `json:"assetDataScopes"`
	// Map from refnames to run data sources. Will be empty for multi-asset runs.
	DataSources map[api.DataSourceRefName]api2.RunDataSource `conjure-docs:"Map from refnames to run data sources. Will be empty for multi-asset runs." json:"dataSources"`
	Attachments []rids.AttachmentRid                         `json:"attachments"`
	// Deprecated: Use assets
	Asset      *api3.AssetRid  `json:"asset,omitempty"`
	Assets     []api3.AssetRid `json:"assets"`
	IsArchived bool            `json:"isArchived"`
}

func (o Run) MarshalJSON() ([]byte, error) {
	if o.Properties == nil {
		o.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	if o.Labels == nil {
		o.Labels = make([]api4.Label, 0)
	}
	if o.Links == nil {
		o.Links = make([]api2.Link, 0)
	}
	if o.AssetDataScopesMap == nil {
		o.AssetDataScopesMap = make(map[api3.AssetRid]DataScopes, 0)
	}
	if o.AssetDataScopes == nil {
		o.AssetDataScopes = make([]api1.DataScope, 0)
	}
	if o.DataSources == nil {
		o.DataSources = make(map[api.DataSourceRefName]api2.RunDataSource, 0)
	}
	if o.Attachments == nil {
		o.Attachments = make([]rids.AttachmentRid, 0)
	}
	if o.Assets == nil {
		o.Assets = make([]api3.AssetRid, 0)
	}
	type _tmpRun Run
	return safejson.Marshal(_tmpRun(o))
}

func (o *Run) UnmarshalJSON(data []byte) error {
	type _tmpRun Run
	var rawRun _tmpRun
	if err := safejson.Unmarshal(data, &rawRun); err != nil {
		return err
	}
	if rawRun.Properties == nil {
		rawRun.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	if rawRun.Labels == nil {
		rawRun.Labels = make([]api4.Label, 0)
	}
	if rawRun.Links == nil {
		rawRun.Links = make([]api2.Link, 0)
	}
	if rawRun.AssetDataScopesMap == nil {
		rawRun.AssetDataScopesMap = make(map[api3.AssetRid]DataScopes, 0)
	}
	if rawRun.AssetDataScopes == nil {
		rawRun.AssetDataScopes = make([]api1.DataScope, 0)
	}
	if rawRun.DataSources == nil {
		rawRun.DataSources = make(map[api.DataSourceRefName]api2.RunDataSource, 0)
	}
	if rawRun.Attachments == nil {
		rawRun.Attachments = make([]rids.AttachmentRid, 0)
	}
	if rawRun.Assets == nil {
		rawRun.Assets = make([]api3.AssetRid, 0)
	}
	*o = Run(rawRun)
	return nil
}

func (o Run) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *Run) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type RunWithDataReviewMetrics struct {
	Run               Run                    `json:"run"`
	DataReviewMetrics api2.DataReviewMetrics `json:"dataReviewMetrics"`
}

func (o RunWithDataReviewMetrics) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *RunWithDataReviewMetrics) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type RunWithDataReviewSummary struct {
	Run               Run                       `json:"run"`
	DataReviewSummary api2.RunDataReviewSummary `json:"dataReviewSummary"`
}

func (o RunWithDataReviewSummary) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *RunWithDataReviewSummary) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SearchRunsResponse struct {
	Results       []Run       `json:"results"`
	NextPageToken *api4.Token `json:"nextPageToken,omitempty"`
}

func (o SearchRunsResponse) MarshalJSON() ([]byte, error) {
	if o.Results == nil {
		o.Results = make([]Run, 0)
	}
	type _tmpSearchRunsResponse SearchRunsResponse
	return safejson.Marshal(_tmpSearchRunsResponse(o))
}

func (o *SearchRunsResponse) UnmarshalJSON(data []byte) error {
	type _tmpSearchRunsResponse SearchRunsResponse
	var rawSearchRunsResponse _tmpSearchRunsResponse
	if err := safejson.Unmarshal(data, &rawSearchRunsResponse); err != nil {
		return err
	}
	if rawSearchRunsResponse.Results == nil {
		rawSearchRunsResponse.Results = make([]Run, 0)
	}
	*o = SearchRunsResponse(rawSearchRunsResponse)
	return nil
}

func (o SearchRunsResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SearchRunsResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SearchRunsWithDataReviewMetricsResponse struct {
	Results       []RunWithDataReviewMetrics `json:"results"`
	NextPageToken *api4.Token                `json:"nextPageToken,omitempty"`
}

func (o SearchRunsWithDataReviewMetricsResponse) MarshalJSON() ([]byte, error) {
	if o.Results == nil {
		o.Results = make([]RunWithDataReviewMetrics, 0)
	}
	type _tmpSearchRunsWithDataReviewMetricsResponse SearchRunsWithDataReviewMetricsResponse
	return safejson.Marshal(_tmpSearchRunsWithDataReviewMetricsResponse(o))
}

func (o *SearchRunsWithDataReviewMetricsResponse) UnmarshalJSON(data []byte) error {
	type _tmpSearchRunsWithDataReviewMetricsResponse SearchRunsWithDataReviewMetricsResponse
	var rawSearchRunsWithDataReviewMetricsResponse _tmpSearchRunsWithDataReviewMetricsResponse
	if err := safejson.Unmarshal(data, &rawSearchRunsWithDataReviewMetricsResponse); err != nil {
		return err
	}
	if rawSearchRunsWithDataReviewMetricsResponse.Results == nil {
		rawSearchRunsWithDataReviewMetricsResponse.Results = make([]RunWithDataReviewMetrics, 0)
	}
	*o = SearchRunsWithDataReviewMetricsResponse(rawSearchRunsWithDataReviewMetricsResponse)
	return nil
}

func (o SearchRunsWithDataReviewMetricsResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SearchRunsWithDataReviewMetricsResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SearchRunsWithDataReviewSummaryResponse struct {
	Results       []RunWithDataReviewSummary `json:"results"`
	NextPageToken *api4.Token                `json:"nextPageToken,omitempty"`
}

func (o SearchRunsWithDataReviewSummaryResponse) MarshalJSON() ([]byte, error) {
	if o.Results == nil {
		o.Results = make([]RunWithDataReviewSummary, 0)
	}
	type _tmpSearchRunsWithDataReviewSummaryResponse SearchRunsWithDataReviewSummaryResponse
	return safejson.Marshal(_tmpSearchRunsWithDataReviewSummaryResponse(o))
}

func (o *SearchRunsWithDataReviewSummaryResponse) UnmarshalJSON(data []byte) error {
	type _tmpSearchRunsWithDataReviewSummaryResponse SearchRunsWithDataReviewSummaryResponse
	var rawSearchRunsWithDataReviewSummaryResponse _tmpSearchRunsWithDataReviewSummaryResponse
	if err := safejson.Unmarshal(data, &rawSearchRunsWithDataReviewSummaryResponse); err != nil {
		return err
	}
	if rawSearchRunsWithDataReviewSummaryResponse.Results == nil {
		rawSearchRunsWithDataReviewSummaryResponse.Results = make([]RunWithDataReviewSummary, 0)
	}
	*o = SearchRunsWithDataReviewSummaryResponse(rawSearchRunsWithDataReviewSummaryResponse)
	return nil
}

func (o SearchRunsWithDataReviewSummaryResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SearchRunsWithDataReviewSummaryResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

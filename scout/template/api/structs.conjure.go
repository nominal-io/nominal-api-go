// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	"github.com/nominal-io/nominal-api-go/api/rids"
	api4 "github.com/nominal-io/nominal-api-go/io/nominal/api"
	api5 "github.com/nominal-io/nominal-api-go/scout/api"
	api1 "github.com/nominal-io/nominal-api-go/scout/layout/api"
	"github.com/nominal-io/nominal-api-go/scout/rids/api"
	api3 "github.com/nominal-io/nominal-api-go/scout/versioning/api"
	api2 "github.com/nominal-io/nominal-api-go/scout/workbookcommon/api"
	"github.com/palantir/pkg/datetime"
	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safeyaml"
)

type CommitTemplateRequest struct {
	// Deprecated: charts are no longer versioned resources. They are stored in workbook content.
	Charts  *[]api.VersionedVizId `json:"charts,omitempty"`
	Layout  api1.WorkbookLayout   `json:"layout"`
	Content api2.WorkbookContent  `json:"content"`
	Message string                `json:"message"`
	/*
	   If present, will validate that the latest commit matches this id,
	   and otherwise throw CommitConflict.
	*/
	LatestCommit *api3.CommitId `conjure-docs:"If present, will validate that the latest commit matches this id,\nand otherwise throw CommitConflict." json:"latestCommit,omitempty"`
}

func (o CommitTemplateRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CommitTemplateRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CreateTemplateRequest struct {
	Title       string                                   `json:"title"`
	Description string                                   `json:"description"`
	Labels      []api4.Label                             `json:"labels"`
	Properties  map[api4.PropertyName]api4.PropertyValue `json:"properties"`
	// Default is true
	IsPublished *bool `conjure-docs:"Default is true" json:"isPublished,omitempty"`
	// Deprecated: charts are no longer versioned resources. They are stored in workbook content.
	Charts  *[]api.VersionedVizId `json:"charts,omitempty"`
	Layout  api1.WorkbookLayout   `json:"layout"`
	Content api2.WorkbookContent  `json:"content"`
	Message string                `json:"message"`
	/*
	   The workspace in which to create the template. If not provided, the template will be created in the default workspace for
	   the user's organization, if the default workspace for the organization is configured.
	*/
	Workspace *rids.WorkspaceRid `conjure-docs:"The workspace in which to create the template. If not provided, the template will be created in the default workspace for\nthe user's organization, if the default workspace for the organization is configured." json:"workspace,omitempty"`
}

func (o CreateTemplateRequest) MarshalJSON() ([]byte, error) {
	if o.Labels == nil {
		o.Labels = make([]api4.Label, 0)
	}
	if o.Properties == nil {
		o.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	type _tmpCreateTemplateRequest CreateTemplateRequest
	return safejson.Marshal(_tmpCreateTemplateRequest(o))
}

func (o *CreateTemplateRequest) UnmarshalJSON(data []byte) error {
	type _tmpCreateTemplateRequest CreateTemplateRequest
	var rawCreateTemplateRequest _tmpCreateTemplateRequest
	if err := safejson.Unmarshal(data, &rawCreateTemplateRequest); err != nil {
		return err
	}
	if rawCreateTemplateRequest.Labels == nil {
		rawCreateTemplateRequest.Labels = make([]api4.Label, 0)
	}
	if rawCreateTemplateRequest.Properties == nil {
		rawCreateTemplateRequest.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	*o = CreateTemplateRequest(rawCreateTemplateRequest)
	return nil
}

func (o CreateTemplateRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CreateTemplateRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type GetAllLabelsAndPropertiesResponse struct {
	Properties map[api4.PropertyName][]api4.PropertyValue `json:"properties"`
	Labels     []api4.Label                               `json:"labels"`
}

func (o GetAllLabelsAndPropertiesResponse) MarshalJSON() ([]byte, error) {
	if o.Properties == nil {
		o.Properties = make(map[api4.PropertyName][]api4.PropertyValue, 0)
	}
	if o.Labels == nil {
		o.Labels = make([]api4.Label, 0)
	}
	type _tmpGetAllLabelsAndPropertiesResponse GetAllLabelsAndPropertiesResponse
	return safejson.Marshal(_tmpGetAllLabelsAndPropertiesResponse(o))
}

func (o *GetAllLabelsAndPropertiesResponse) UnmarshalJSON(data []byte) error {
	type _tmpGetAllLabelsAndPropertiesResponse GetAllLabelsAndPropertiesResponse
	var rawGetAllLabelsAndPropertiesResponse _tmpGetAllLabelsAndPropertiesResponse
	if err := safejson.Unmarshal(data, &rawGetAllLabelsAndPropertiesResponse); err != nil {
		return err
	}
	if rawGetAllLabelsAndPropertiesResponse.Properties == nil {
		rawGetAllLabelsAndPropertiesResponse.Properties = make(map[api4.PropertyName][]api4.PropertyValue, 0)
	}
	if rawGetAllLabelsAndPropertiesResponse.Labels == nil {
		rawGetAllLabelsAndPropertiesResponse.Labels = make([]api4.Label, 0)
	}
	*o = GetAllLabelsAndPropertiesResponse(rawGetAllLabelsAndPropertiesResponse)
	return nil
}

func (o GetAllLabelsAndPropertiesResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *GetAllLabelsAndPropertiesResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type MergeToMainRequest struct {
	// If "main", the request will throw.
	BranchName api3.BranchName `conjure-docs:"If \"main\", the request will throw." json:"branchName"`
	Message    string          `json:"message"`
	/*
	   If present, will validate that the latest commit matches this id,
	   and otherwise throw CommitConflict.
	*/
	LatestCommitOnMain *api3.CommitId `conjure-docs:"If present, will validate that the latest commit matches this id,\nand otherwise throw CommitConflict." json:"latestCommitOnMain,omitempty"`
}

func (o MergeToMainRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *MergeToMainRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SaveTemplateRequest struct {
	// Deprecated: charts are no longer versioned resources. They are stored in workbook content.
	Charts  *[]api.VersionedVizId `json:"charts,omitempty"`
	Layout  api1.WorkbookLayout   `json:"layout"`
	Content api2.WorkbookContent  `json:"content"`
	/*
	   If present, will validate that the latest commit matches this id,
	   and otherwise throw CommitConflict.
	*/
	LatestCommit *api3.CommitId `conjure-docs:"If present, will validate that the latest commit matches this id,\nand otherwise throw CommitConflict." json:"latestCommit,omitempty"`
}

func (o SaveTemplateRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SaveTemplateRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SearchTemplatesRequest struct {
	Query SearchTemplatesQuery `json:"query"`
	// EDITED_AT descending by default
	SortBy        *SortBy     `conjure-docs:"EDITED_AT descending by default" json:"sortBy,omitempty"`
	NextPageToken *api4.Token `json:"nextPageToken,omitempty"`
	// Defaults to 100. Will throw if larger than 1_000.
	PageSize *int `conjure-docs:"Defaults to 100. Will throw if larger than 1_000." json:"pageSize,omitempty"`
}

func (o SearchTemplatesRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SearchTemplatesRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SearchTemplatesResponse struct {
	Results       []TemplateSummary `json:"results"`
	NextPageToken *api4.Token       `json:"nextPageToken,omitempty"`
}

func (o SearchTemplatesResponse) MarshalJSON() ([]byte, error) {
	if o.Results == nil {
		o.Results = make([]TemplateSummary, 0)
	}
	type _tmpSearchTemplatesResponse SearchTemplatesResponse
	return safejson.Marshal(_tmpSearchTemplatesResponse(o))
}

func (o *SearchTemplatesResponse) UnmarshalJSON(data []byte) error {
	type _tmpSearchTemplatesResponse SearchTemplatesResponse
	var rawSearchTemplatesResponse _tmpSearchTemplatesResponse
	if err := safejson.Unmarshal(data, &rawSearchTemplatesResponse); err != nil {
		return err
	}
	if rawSearchTemplatesResponse.Results == nil {
		rawSearchTemplatesResponse.Results = make([]TemplateSummary, 0)
	}
	*o = SearchTemplatesResponse(rawSearchTemplatesResponse)
	return nil
}

func (o SearchTemplatesResponse) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SearchTemplatesResponse) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SortBy struct {
	IsDescending bool        `json:"isDescending"`
	Field        SortByField `json:"field"`
}

func (o SortBy) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SortBy) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type Template struct {
	Rid      api.TemplateRid  `json:"rid"`
	Metadata TemplateMetadata `json:"metadata"`
	Commit   api3.Commit      `json:"commit"`
	// Deprecated: charts are no longer versioned resources. They are stored in workbook content.
	Charts  []api.VersionedVizId `json:"charts"`
	Layout  api1.WorkbookLayout  `json:"layout"`
	Content api2.WorkbookContent `json:"content"`
}

func (o Template) MarshalJSON() ([]byte, error) {
	if o.Charts == nil {
		o.Charts = make([]api.VersionedVizId, 0)
	}
	type _tmpTemplate Template
	return safejson.Marshal(_tmpTemplate(o))
}

func (o *Template) UnmarshalJSON(data []byte) error {
	type _tmpTemplate Template
	var rawTemplate _tmpTemplate
	if err := safejson.Unmarshal(data, &rawTemplate); err != nil {
		return err
	}
	if rawTemplate.Charts == nil {
		rawTemplate.Charts = make([]api.VersionedVizId, 0)
	}
	*o = Template(rawTemplate)
	return nil
}

func (o Template) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *Template) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type TemplateMetadata struct {
	Title       string                                   `json:"title"`
	Description string                                   `json:"description"`
	Labels      []api4.Label                             `json:"labels"`
	Properties  map[api4.PropertyName]api4.PropertyValue `json:"properties"`
	IsArchived  bool                                     `json:"isArchived"`
	IsPublished bool                                     `json:"isPublished"`
	CreatedBy   api.UserRid                              `json:"createdBy"`
	CreatedAt   datetime.DateTime                        `json:"createdAt"`
	UpdatedAt   datetime.DateTime                        `json:"updatedAt"`
	// The time of the last permanent commit to the main branch.
	EditedAt datetime.DateTime `conjure-docs:"The time of the last permanent commit to the main branch." json:"editedAt"`
}

func (o TemplateMetadata) MarshalJSON() ([]byte, error) {
	if o.Labels == nil {
		o.Labels = make([]api4.Label, 0)
	}
	if o.Properties == nil {
		o.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	type _tmpTemplateMetadata TemplateMetadata
	return safejson.Marshal(_tmpTemplateMetadata(o))
}

func (o *TemplateMetadata) UnmarshalJSON(data []byte) error {
	type _tmpTemplateMetadata TemplateMetadata
	var rawTemplateMetadata _tmpTemplateMetadata
	if err := safejson.Unmarshal(data, &rawTemplateMetadata); err != nil {
		return err
	}
	if rawTemplateMetadata.Labels == nil {
		rawTemplateMetadata.Labels = make([]api4.Label, 0)
	}
	if rawTemplateMetadata.Properties == nil {
		rawTemplateMetadata.Properties = make(map[api4.PropertyName]api4.PropertyValue, 0)
	}
	*o = TemplateMetadata(rawTemplateMetadata)
	return nil
}

func (o TemplateMetadata) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *TemplateMetadata) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type TemplateSummary struct {
	Rid      api.TemplateRid  `json:"rid"`
	Metadata TemplateMetadata `json:"metadata"`
}

func (o TemplateSummary) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *TemplateSummary) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type UpdateMetadataRequest struct {
	Title       *string                                   `json:"title,omitempty"`
	Description *string                                   `json:"description,omitempty"`
	Labels      *[]api4.Label                             `json:"labels,omitempty"`
	Properties  *map[api4.PropertyName]api4.PropertyValue `json:"properties,omitempty"`
	IsArchived  *bool                                     `json:"isArchived,omitempty"`
	IsPublished *bool                                     `json:"isPublished,omitempty"`
}

func (o UpdateMetadataRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *UpdateMetadataRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type UpdateRefNameRequest struct {
	RefNameUpdates map[api5.DataSourceRefName]api5.DataSourceRefName `json:"refNameUpdates"`
	/*
	   If present, will validate that the latest commit matches this id,
	   and otherwise throw CommitConflict.
	*/
	LatestCommit *api3.CommitId `conjure-docs:"If present, will validate that the latest commit matches this id,\nand otherwise throw CommitConflict." json:"latestCommit,omitempty"`
}

func (o UpdateRefNameRequest) MarshalJSON() ([]byte, error) {
	if o.RefNameUpdates == nil {
		o.RefNameUpdates = make(map[api5.DataSourceRefName]api5.DataSourceRefName, 0)
	}
	type _tmpUpdateRefNameRequest UpdateRefNameRequest
	return safejson.Marshal(_tmpUpdateRefNameRequest(o))
}

func (o *UpdateRefNameRequest) UnmarshalJSON(data []byte) error {
	type _tmpUpdateRefNameRequest UpdateRefNameRequest
	var rawUpdateRefNameRequest _tmpUpdateRefNameRequest
	if err := safejson.Unmarshal(data, &rawUpdateRefNameRequest); err != nil {
		return err
	}
	if rawUpdateRefNameRequest.RefNameUpdates == nil {
		rawUpdateRefNameRequest.RefNameUpdates = make(map[api5.DataSourceRefName]api5.DataSourceRefName, 0)
	}
	*o = UpdateRefNameRequest(rawUpdateRefNameRequest)
	return nil
}

func (o UpdateRefNameRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *UpdateRefNameRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

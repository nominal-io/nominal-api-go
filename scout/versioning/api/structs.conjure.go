// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	api1 "github.com/nominal-io/nominal-api-go/io/nominal/api"
	"github.com/nominal-io/nominal-api-go/scout/rids/api"
	"github.com/palantir/pkg/datetime"
	"github.com/palantir/pkg/rid"
	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safeyaml"
)

type Branch struct {
	Rid         BranchRid              `json:"rid"`
	Name        BranchName             `json:"name"`
	ResourceRid rid.ResourceIdentifier `json:"resourceRid"`
	Commit      CommitId               `json:"commit"`
	CreatedBy   api.UserRid            `json:"createdBy"`
	CreatedAt   datetime.DateTime      `json:"createdAt"`
	UpdatedAt   datetime.DateTime      `json:"updatedAt"`
}

func (o Branch) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *Branch) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type BranchAndCommit struct {
	Branch Branch `json:"branch"`
	Commit Commit `json:"commit"`
}

func (o BranchAndCommit) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *BranchAndCommit) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type Commit struct {
	Id                CommitId               `json:"id"`
	ResourceRid       rid.ResourceIdentifier `json:"resourceRid"`
	ParentCommit      *CommitId              `json:"parentCommit,omitempty"`
	MergeParentCommit *CommitId              `json:"mergeParentCommit,omitempty"`
	Message           string                 `json:"message"`
	/*
	   A working state commit is created via the `saveWorkingState` endpoint
	   and is non-permanent. In the future, it may be compacted and not exist.
	*/
	IsWorkingState bool              `conjure-docs:"A working state commit is created via the \"saveWorkingState\" endpoint\nand is non-permanent. In the future, it may be compacted and not exist." json:"isWorkingState"`
	CommittedBy    api.UserRid       `json:"committedBy"`
	CommittedAt    datetime.DateTime `json:"committedAt"`
}

func (o Commit) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *Commit) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CommitHistory struct {
	History       []Commit    `json:"history"`
	NextPageToken *api1.Token `json:"nextPageToken,omitempty"`
}

func (o CommitHistory) MarshalJSON() ([]byte, error) {
	if o.History == nil {
		o.History = make([]Commit, 0)
	}
	type _tmpCommitHistory CommitHistory
	return safejson.Marshal(_tmpCommitHistory(o))
}

func (o *CommitHistory) UnmarshalJSON(data []byte) error {
	type _tmpCommitHistory CommitHistory
	var rawCommitHistory _tmpCommitHistory
	if err := safejson.Unmarshal(data, &rawCommitHistory); err != nil {
		return err
	}
	if rawCommitHistory.History == nil {
		rawCommitHistory.History = make([]Commit, 0)
	}
	*o = CommitHistory(rawCommitHistory)
	return nil
}

func (o CommitHistory) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CommitHistory) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CommitRequest struct {
	NewCommit CommitId `json:"newCommit"`
	/*
	   If present, this existing commit will be the merge parent
	   of the new commit. It will be made permanent if not already,
	   to prevent the merge parent from being compacted.
	*/
	MergeParentCommit *CommitId `conjure-docs:"If present, this existing commit will be the merge parent\nof the new commit. It will be made permanent if not already,\nto prevent the merge parent from being compacted." json:"mergeParentCommit,omitempty"`
	Message           string    `json:"message"`
	LatestCommit      *CommitId `json:"latestCommit,omitempty"`
}

func (o CommitRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CommitRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CompactCommitsRequest struct {
	Strategy CompactionStrategy `json:"strategy"`
}

func (o CompactCommitsRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CompactCommitsRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CreateBranchRequest struct {
	ExistingCommit CommitId   `json:"existingCommit"`
	BranchName     BranchName `json:"branchName"`
}

func (o CreateBranchRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CreateBranchRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type CreateTagRequest struct {
	ExistingCommit CommitId `json:"existingCommit"`
	TagName        TagName  `json:"tagName"`
}

func (o CreateTagRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *CreateTagRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type GetLeastCommonAncestorRequest struct {
	Commit1 CommitId `json:"commit1"`
	Commit2 CommitId `json:"commit2"`
}

func (o GetLeastCommonAncestorRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *GetLeastCommonAncestorRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type InitResourceVersioningRequest struct {
	NewCommit CommitId `json:"newCommit"`
	Message   string   `json:"message"`
}

func (o InitResourceVersioningRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *InitResourceVersioningRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type ResourceAndBranchName struct {
	ResourceRid rid.ResourceIdentifier `json:"resourceRid"`
	BranchName  BranchName             `json:"branchName"`
}

func (o ResourceAndBranchName) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *ResourceAndBranchName) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type ResourceAndCommitId struct {
	ResourceRid rid.ResourceIdentifier `json:"resourceRid"`
	CommitId    CommitId               `json:"commitId"`
}

func (o ResourceAndCommitId) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *ResourceAndCommitId) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type SaveWorkingStateRequest struct {
	NewCommit    CommitId  `json:"newCommit"`
	LatestCommit *CommitId `json:"latestCommit,omitempty"`
}

func (o SaveWorkingStateRequest) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *SaveWorkingStateRequest) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

type Tag struct {
	Rid         TagRid                 `json:"rid"`
	Name        TagName                `json:"name"`
	ResourceRid rid.ResourceIdentifier `json:"resourceRid"`
	Commit      CommitId               `json:"commit"`
	CreatedBy   api.UserRid            `json:"createdBy"`
	CreatedAt   datetime.DateTime      `json:"createdAt"`
}

func (o Tag) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(o)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (o *Tag) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&o)
}

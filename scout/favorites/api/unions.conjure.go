// Code generated by conjure-go. DO NOT EDIT.

package api

import (
	"context"
	"fmt"

	"github.com/nominal-io/nominal-api-go/api/rids"
	"github.com/nominal-io/nominal-api-go/scout/rids/api"
	api1 "github.com/nominal-io/nominal-api-go/scout/run/api"
	"github.com/palantir/pkg/safejson"
	"github.com/palantir/pkg/safeyaml"
)

type FavoriteResource struct {
	typ              string
	asset            *api.AssetRid
	run              *api1.RunRid
	notebook         *api.NotebookRid
	notebookTemplate *api.TemplateRid
	checklist        *api.ChecklistRid
	savedView        *api.SavedViewRid
	procedure        *rids.ProcedureRid
}

type favoriteResourceDeserializer struct {
	Type             string             `json:"type"`
	Asset            *api.AssetRid      `json:"asset"`
	Run              *api1.RunRid       `json:"run"`
	Notebook         *api.NotebookRid   `json:"notebook"`
	NotebookTemplate *api.TemplateRid   `json:"notebookTemplate"`
	Checklist        *api.ChecklistRid  `json:"checklist"`
	SavedView        *api.SavedViewRid  `json:"savedView"`
	Procedure        *rids.ProcedureRid `json:"procedure"`
}

func (u *favoriteResourceDeserializer) toStruct() FavoriteResource {
	return FavoriteResource{typ: u.Type, asset: u.Asset, run: u.Run, notebook: u.Notebook, notebookTemplate: u.NotebookTemplate, checklist: u.Checklist, savedView: u.SavedView, procedure: u.Procedure}
}

func (u *FavoriteResource) toSerializer() (interface{}, error) {
	switch u.typ {
	default:
		return nil, fmt.Errorf("unknown type %q", u.typ)
	case "asset":
		if u.asset == nil {
			return nil, fmt.Errorf("field \"asset\" is required")
		}
		return struct {
			Type  string       `json:"type"`
			Asset api.AssetRid `json:"asset"`
		}{Type: "asset", Asset: *u.asset}, nil
	case "run":
		if u.run == nil {
			return nil, fmt.Errorf("field \"run\" is required")
		}
		return struct {
			Type string      `json:"type"`
			Run  api1.RunRid `json:"run"`
		}{Type: "run", Run: *u.run}, nil
	case "notebook":
		if u.notebook == nil {
			return nil, fmt.Errorf("field \"notebook\" is required")
		}
		return struct {
			Type     string          `json:"type"`
			Notebook api.NotebookRid `json:"notebook"`
		}{Type: "notebook", Notebook: *u.notebook}, nil
	case "notebookTemplate":
		if u.notebookTemplate == nil {
			return nil, fmt.Errorf("field \"notebookTemplate\" is required")
		}
		return struct {
			Type             string          `json:"type"`
			NotebookTemplate api.TemplateRid `json:"notebookTemplate"`
		}{Type: "notebookTemplate", NotebookTemplate: *u.notebookTemplate}, nil
	case "checklist":
		if u.checklist == nil {
			return nil, fmt.Errorf("field \"checklist\" is required")
		}
		return struct {
			Type      string           `json:"type"`
			Checklist api.ChecklistRid `json:"checklist"`
		}{Type: "checklist", Checklist: *u.checklist}, nil
	case "savedView":
		if u.savedView == nil {
			return nil, fmt.Errorf("field \"savedView\" is required")
		}
		return struct {
			Type      string           `json:"type"`
			SavedView api.SavedViewRid `json:"savedView"`
		}{Type: "savedView", SavedView: *u.savedView}, nil
	case "procedure":
		if u.procedure == nil {
			return nil, fmt.Errorf("field \"procedure\" is required")
		}
		return struct {
			Type      string            `json:"type"`
			Procedure rids.ProcedureRid `json:"procedure"`
		}{Type: "procedure", Procedure: *u.procedure}, nil
	}
}

func (u FavoriteResource) MarshalJSON() ([]byte, error) {
	ser, err := u.toSerializer()
	if err != nil {
		return nil, err
	}
	return safejson.Marshal(ser)
}

func (u *FavoriteResource) UnmarshalJSON(data []byte) error {
	var deser favoriteResourceDeserializer
	if err := safejson.Unmarshal(data, &deser); err != nil {
		return err
	}
	*u = deser.toStruct()
	switch u.typ {
	case "asset":
		if u.asset == nil {
			return fmt.Errorf("field \"asset\" is required")
		}
	case "run":
		if u.run == nil {
			return fmt.Errorf("field \"run\" is required")
		}
	case "notebook":
		if u.notebook == nil {
			return fmt.Errorf("field \"notebook\" is required")
		}
	case "notebookTemplate":
		if u.notebookTemplate == nil {
			return fmt.Errorf("field \"notebookTemplate\" is required")
		}
	case "checklist":
		if u.checklist == nil {
			return fmt.Errorf("field \"checklist\" is required")
		}
	case "savedView":
		if u.savedView == nil {
			return fmt.Errorf("field \"savedView\" is required")
		}
	case "procedure":
		if u.procedure == nil {
			return fmt.Errorf("field \"procedure\" is required")
		}
	}
	return nil
}

func (u FavoriteResource) MarshalYAML() (interface{}, error) {
	jsonBytes, err := safejson.Marshal(u)
	if err != nil {
		return nil, err
	}
	return safeyaml.JSONtoYAMLMapSlice(jsonBytes)
}

func (u *FavoriteResource) UnmarshalYAML(unmarshal func(interface{}) error) error {
	jsonBytes, err := safeyaml.UnmarshalerToJSONBytes(unmarshal)
	if err != nil {
		return err
	}
	return safejson.Unmarshal(jsonBytes, *&u)
}

func (u *FavoriteResource) AcceptFuncs(assetFunc func(api.AssetRid) error, runFunc func(api1.RunRid) error, notebookFunc func(api.NotebookRid) error, notebookTemplateFunc func(api.TemplateRid) error, checklistFunc func(api.ChecklistRid) error, savedViewFunc func(api.SavedViewRid) error, procedureFunc func(rids.ProcedureRid) error, unknownFunc func(string) error) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return unknownFunc(u.typ)
	case "asset":
		if u.asset == nil {
			return fmt.Errorf("field \"asset\" is required")
		}
		return assetFunc(*u.asset)
	case "run":
		if u.run == nil {
			return fmt.Errorf("field \"run\" is required")
		}
		return runFunc(*u.run)
	case "notebook":
		if u.notebook == nil {
			return fmt.Errorf("field \"notebook\" is required")
		}
		return notebookFunc(*u.notebook)
	case "notebookTemplate":
		if u.notebookTemplate == nil {
			return fmt.Errorf("field \"notebookTemplate\" is required")
		}
		return notebookTemplateFunc(*u.notebookTemplate)
	case "checklist":
		if u.checklist == nil {
			return fmt.Errorf("field \"checklist\" is required")
		}
		return checklistFunc(*u.checklist)
	case "savedView":
		if u.savedView == nil {
			return fmt.Errorf("field \"savedView\" is required")
		}
		return savedViewFunc(*u.savedView)
	case "procedure":
		if u.procedure == nil {
			return fmt.Errorf("field \"procedure\" is required")
		}
		return procedureFunc(*u.procedure)
	}
}

func (u *FavoriteResource) AssetNoopSuccess(api.AssetRid) error {
	return nil
}

func (u *FavoriteResource) RunNoopSuccess(api1.RunRid) error {
	return nil
}

func (u *FavoriteResource) NotebookNoopSuccess(api.NotebookRid) error {
	return nil
}

func (u *FavoriteResource) NotebookTemplateNoopSuccess(api.TemplateRid) error {
	return nil
}

func (u *FavoriteResource) ChecklistNoopSuccess(api.ChecklistRid) error {
	return nil
}

func (u *FavoriteResource) SavedViewNoopSuccess(api.SavedViewRid) error {
	return nil
}

func (u *FavoriteResource) ProcedureNoopSuccess(rids.ProcedureRid) error {
	return nil
}

func (u *FavoriteResource) ErrorOnUnknown(typeName string) error {
	return fmt.Errorf("invalid value in union type. Type name: %s", typeName)
}

func (u *FavoriteResource) Accept(v FavoriteResourceVisitor) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknown(u.typ)
	case "asset":
		if u.asset == nil {
			return fmt.Errorf("field \"asset\" is required")
		}
		return v.VisitAsset(*u.asset)
	case "run":
		if u.run == nil {
			return fmt.Errorf("field \"run\" is required")
		}
		return v.VisitRun(*u.run)
	case "notebook":
		if u.notebook == nil {
			return fmt.Errorf("field \"notebook\" is required")
		}
		return v.VisitNotebook(*u.notebook)
	case "notebookTemplate":
		if u.notebookTemplate == nil {
			return fmt.Errorf("field \"notebookTemplate\" is required")
		}
		return v.VisitNotebookTemplate(*u.notebookTemplate)
	case "checklist":
		if u.checklist == nil {
			return fmt.Errorf("field \"checklist\" is required")
		}
		return v.VisitChecklist(*u.checklist)
	case "savedView":
		if u.savedView == nil {
			return fmt.Errorf("field \"savedView\" is required")
		}
		return v.VisitSavedView(*u.savedView)
	case "procedure":
		if u.procedure == nil {
			return fmt.Errorf("field \"procedure\" is required")
		}
		return v.VisitProcedure(*u.procedure)
	}
}

type FavoriteResourceVisitor interface {
	VisitAsset(v api.AssetRid) error
	VisitRun(v api1.RunRid) error
	VisitNotebook(v api.NotebookRid) error
	VisitNotebookTemplate(v api.TemplateRid) error
	VisitChecklist(v api.ChecklistRid) error
	VisitSavedView(v api.SavedViewRid) error
	VisitProcedure(v rids.ProcedureRid) error
	VisitUnknown(typeName string) error
}

func (u *FavoriteResource) AcceptWithContext(ctx context.Context, v FavoriteResourceVisitorWithContext) error {
	switch u.typ {
	default:
		if u.typ == "" {
			return fmt.Errorf("invalid value in union type")
		}
		return v.VisitUnknownWithContext(ctx, u.typ)
	case "asset":
		if u.asset == nil {
			return fmt.Errorf("field \"asset\" is required")
		}
		return v.VisitAssetWithContext(ctx, *u.asset)
	case "run":
		if u.run == nil {
			return fmt.Errorf("field \"run\" is required")
		}
		return v.VisitRunWithContext(ctx, *u.run)
	case "notebook":
		if u.notebook == nil {
			return fmt.Errorf("field \"notebook\" is required")
		}
		return v.VisitNotebookWithContext(ctx, *u.notebook)
	case "notebookTemplate":
		if u.notebookTemplate == nil {
			return fmt.Errorf("field \"notebookTemplate\" is required")
		}
		return v.VisitNotebookTemplateWithContext(ctx, *u.notebookTemplate)
	case "checklist":
		if u.checklist == nil {
			return fmt.Errorf("field \"checklist\" is required")
		}
		return v.VisitChecklistWithContext(ctx, *u.checklist)
	case "savedView":
		if u.savedView == nil {
			return fmt.Errorf("field \"savedView\" is required")
		}
		return v.VisitSavedViewWithContext(ctx, *u.savedView)
	case "procedure":
		if u.procedure == nil {
			return fmt.Errorf("field \"procedure\" is required")
		}
		return v.VisitProcedureWithContext(ctx, *u.procedure)
	}
}

type FavoriteResourceVisitorWithContext interface {
	VisitAssetWithContext(ctx context.Context, v api.AssetRid) error
	VisitRunWithContext(ctx context.Context, v api1.RunRid) error
	VisitNotebookWithContext(ctx context.Context, v api.NotebookRid) error
	VisitNotebookTemplateWithContext(ctx context.Context, v api.TemplateRid) error
	VisitChecklistWithContext(ctx context.Context, v api.ChecklistRid) error
	VisitSavedViewWithContext(ctx context.Context, v api.SavedViewRid) error
	VisitProcedureWithContext(ctx context.Context, v rids.ProcedureRid) error
	VisitUnknownWithContext(ctx context.Context, typeName string) error
}

func NewFavoriteResourceFromAsset(v api.AssetRid) FavoriteResource {
	return FavoriteResource{typ: "asset", asset: &v}
}

func NewFavoriteResourceFromRun(v api1.RunRid) FavoriteResource {
	return FavoriteResource{typ: "run", run: &v}
}

func NewFavoriteResourceFromNotebook(v api.NotebookRid) FavoriteResource {
	return FavoriteResource{typ: "notebook", notebook: &v}
}

func NewFavoriteResourceFromNotebookTemplate(v api.TemplateRid) FavoriteResource {
	return FavoriteResource{typ: "notebookTemplate", notebookTemplate: &v}
}

func NewFavoriteResourceFromChecklist(v api.ChecklistRid) FavoriteResource {
	return FavoriteResource{typ: "checklist", checklist: &v}
}

func NewFavoriteResourceFromSavedView(v api.SavedViewRid) FavoriteResource {
	return FavoriteResource{typ: "savedView", savedView: &v}
}

func NewFavoriteResourceFromProcedure(v rids.ProcedureRid) FavoriteResource {
	return FavoriteResource{typ: "procedure", procedure: &v}
}
